.\" Copyright (C) 2019 VirtualSquare. Project Leader: Renzo Davoli
.\"
.\" This is free documentation; you can redistribute it and/or
.\" modify it under the terms of the GNU General Public License,
.\" as published by the Free Software Foundation, either version 2
.\" of the License, or (at your option) any later version.
.\"
.\" The GNU General Public License's references to "object code"
.\" and "executables" are to be interpreted as the output of any
.\" document formatting or typesetting system, including
.\" intermediate and printed output.
.\"
.\" This manual is distributed in the hope that it will be useful,
.\" but WITHOUT ANY WARRANTY; without even the implied warranty of
.\" MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
.\" GNU General Public License for more details.
.\"
.\" You should have received a copy of the GNU General Public
.\" License along with this manual; if not, write to the Free
.\" Software Foundation, Inc., 51 Franklin St, Fifth Floor, Boston,
.\" MA 02110-1301 USA.
.\"
.\" Automatically generated by Pandoc 2.17.1.1
.\"
.\" Define V font for inline verbatim, using C font in formats
.\" that render this, and otherwise B font.
.ie "\f[CB]x\f[]"x" \{\
. ftr V B
. ftr VI BI
. ftr VB B
. ftr VBI BI
.\}
.el \{\
. ftr V CR
. ftr VI CI
. ftr VB CB
. ftr VBI CBI
.\}
.TH "LIBVDESLIRPCFG" "3" "December 2022" "VirtualSquare" "Library Functions Manual"
.hy
.SH NAME
.PP
vdeslirp_init, vdeslirp_setvprefix, vdeslirp_setvprefix6 - simple API
for slirp: configuration helpers
.SH SYNOPSIS
.PP
\f[V]#include *libvdeslirp.h*\f[R]
.PP
\f[V]#define VDE_INIT_DEFAULT 1\f[R]
.PP
\f[V]void vdeslirp_init(SlirpConfig *\f[R]\f[I]cfg\f[R]\f[V], int\f[R]
\f[I]flags\f[R]\f[V]);\f[R]
.PP
\f[V]void vdeslirp_setvprefix(SlirpConfig *\f[R]\f[I]cfg\f[R]\f[V], int\f[R]
\f[I]prefix\f[R]\f[V]);\f[R]
.PP
\f[V]void vdeslirp_setvprefix6(SlirpConfig *\f[R]\f[I]cfg\f[R]\f[V], int\f[R]
\f[I]prefix6\f[R]\f[V]);\f[R]
.PP
These functions are provided by libvdeslirp.
Link with -lvdeslirp.
.SH DESCRIPTION
.PP
These functions are configuration helpers for \f[V]libvdeslirp\f[R](3).
The fields of the SlirpConfig has been described in the
\f[V]libvdeslirp\f[R](3) manpage.
.PP
\f[V]vdeslirp_init\f[R] clears the \f[V]SlirpConfig\f[R] configuration
structure \f[V]cfg\f[R] and sets the version number.
If \f[V]flags\f[R] is set to \f[V]VDE_INIT_DEFAULT\f[R] then it sets
default values to all the fields of \f[V]cfg\f[R].
These default values are suitable for most applications.
.IP
.nf
\f[C]
SLIRP configuration
version       1
ipv4-enable   1
ipv4-network  10.0.2.0
ipv4-netmask  255.255.255.0
ipv4-host     10.0.2.2
ipv6-enabled  1
ipv6-prefix   fd00::
ipv6-preflen  64
ipv6-host     fd00::2
hostname      slirp
tftp-servname (null)
tftp-path     (null)
bootfile      (null)
dhcp-start    10.0.2.15
ipv4-vDNS     10.0.2.3
ipv6-vDNS     fd00::3
vDNS-search
vdomainname   (null)
MTU(0=def)    0
MRU(0=def)    0
disable-lback 0
enable-emu    0
\f[R]
.fi
.PP
The functions \f[V]vdeslirp_setvprefix\f[R] and
\f[V]vdeslirp_setvprefix6\f[R] define the netmasks and prefixes for IPv4
and IPv6.
These function are usually called after the redefinition of
\f[V]vhost\f[R] or \f[V]vhost6\f[R].
\f[V]vdeslirp_setvprefix\f[R] redefines the network prefix of
\f[V]vnetwork\f[R], \f[V]vdhcp_start\f[R] and \f[V]vnameserver\f[R]
while \f[V]vdeslirp_setvprefix6\f[R] redefines the network prefix for
\f[V]vprefix_addr6\f[R] and \f[V]vnameserver6\f[R].
.SH SEE ALSO
.PP
\f[V]libvdeslirp\f[R](3)
.SH BUGS
.PP
Bug reports should be addressed to *info\[at]virtualsquare.org*
.SH AUTHOR
.PP
VirtualSquare.
Project leader: Renzo Davoli.
